# Конфигурация Forex Signal Agent
timezone: Europe/Moscow
pairs:
  - EURUSD=X
  - GBPUSD=X
  - EURGBP=X
  - GBPCHF=X
  - USDCAD=X
  - GC=F

# Список заданий по таймфреймам
# resolution: 1,5,15,30,60,1h,4h,D
# poll_interval_seconds — как часто опрашивать API (подбирайте под таймфрейм и лимиты API)
timeframes:
  - timeframe: "4h"
    poll_interval_seconds: 180

telegram:
  # Лучше задавать через переменные окружения TELEGRAM_BOT_TOKEN и TELEGRAM_CHAT_ID
  bot_token: ""
  chat_id: ""
  message_cooldown_minutes: 60

# Порог для тренда по ADX
adx_threshold: 20.0

# RSI уровни
rsi_overbought: 70.0
rsi_oversold: 30.0

# Ежечасное «сердцебиение» в канал
notify_hourly_summary: true

# Бэктест
backtest:
  enabled: false
  lookback_bars: 1500

# Путь к SQLite базе для кеша
sqlite_path: ./data/cache.db

# Correlation analysis settings
correlation:
  lookback_hours: 24
  min_data_points: 20
  high_correlation_threshold: 0.7

# Volatility analysis settings
volatility:
  atr_period: 14
  consolidation_threshold: 0.01
  regime_thresholds:
    low: 0.5      # < 0.5% ATR is low volatility
    normal: 1.0   # 0.5% - 1.0% is normal
    high: 2.0     # 1.0% - 2.0% is high, > 2.0% is extreme

# Probability model settings
probability:
  confidence_threshold: 0.4
  high_confidence_threshold: 0.6
  roc_lookback_periods: 24
  weights:
    roc: 0.33
    volatility: 0.33
    volume: 0.0
    correlation: 0.33

# Cryptocurrency settings (for cross-market correlation analysis)
crypto:
  enabled: true
  pairs:
    - BTCUSDT
    - ETHUSDT
    - SOLUSDT
  sandbox: false

# Market sentiment aggregation settings
sentiment:
  enabled: true
  roc_lookback: 24
  risk_threshold: 0.3
  safe_haven_threshold: 0.3
  risk_assets:
    - BTCUSDT
    - ETHUSDT
    - SOLUSDT
  safe_haven_assets:
    - GC=F
    - USDJPY=X
    - USDCHF=X
  volatility_thresholds:
    low: 0.5
    elevated: 2.0
    crisis: 4.0

# Probabilistic backtest settings
backtest_v2:
  enabled: false
  initial_capital: 10000.0
  position_size_pct: 0.02
  stop_loss_pct: 0.02
  take_profit_pct: 0.04
  max_open_trades: 3
  slippage_pct: 0.001
  commission_pct: 0.001
